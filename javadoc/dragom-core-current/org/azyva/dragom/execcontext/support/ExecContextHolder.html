<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Wed Jan 25 17:25:14 EST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ExecContextHolder (Dragom Core 0.1.2 API)</title>
<meta name="date" content="2017-01-25">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ExecContextHolder (Dragom Core 0.1.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ExecContextHolder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextFactoryHolder.html" title="class in org.azyva.dragom.execcontext.support"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/azyva/dragom/execcontext/support/ExecContextHolder.html" target="_top">Frames</a></li>
<li><a href="ExecContextHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.azyva.dragom.execcontext.support</div>
<h2 title="Class ExecContextHolder" class="title">Class ExecContextHolder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.azyva.dragom.execcontext.support.ExecContextHolder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ExecContextHolder</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Holds and provides access to the <code>ExecContext</code> during the execution of
 tools.
 <p>
 In Java global variables must be defined within a class. That is what we need
 here as we want the tools to have access to the ExecContext globally. An
 alternative would have been to introduce an ExecContext parameter in many if
 not all methods so that it is available everywhere. But this would have been
 cumbersome.
 <p>
 Dragom tools are meant to be single-threaded, but thread-safe, meaning that
 multiple independent instances of such tools should be allowed to execute
 simultaneously within a single JVM if so desired (within a
 <a href="http://www.martiansoftware.com/nailgun/">NaigGun</a> server for
 example). Therefore, the ExecContext is held in thread-local storage instead of
 in a truly global static variable. If a tool is multi-threaded, it is its
 responsibility to copy the ExecContext from one thread to the other using
 <a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#setSecondaryThread-org.azyva.dragom.execcontext.ExecContext-"><code>setSecondaryThread(org.azyva.dragom.execcontext.ExecContext)</code></a>.
 <p>
 This class is not meant to be swappable. Tools refer directly to it. It is the
 responsibility of the initialization phase of tools to set the desired
 ExecContext instance within this class using <a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#setAndStartTool-org.azyva.dragom.execcontext.ExecContext-java.util.Properties-"><code>setAndStartTool(org.azyva.dragom.execcontext.ExecContext, java.util.Properties)</code></a>.
 Thereafter during the execution of tools only the method get is expected to be
 used to obtain the ambient ExecContext.
 <p>
 setAndStartTool registers the fact that the ExecContext is being used by a tool
 and if the same ExecContext is already being used by a tool (another tool
 instance in another thread) an exception is raised.
 <p>
 When a tool finishes using an ExecContext, <a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#endToolAndUnset--"><code>endToolAndUnset()</code></a> must
 therefore be called to register the fact that it (the current ExecContext
 stored in thread-local storage) is not being used anymore. A try/finally
 construct is generally required for that purpose.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>David Raymond</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#ExecContextHolder--">ExecContextHolder</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#endToolAndUnset--">endToolAndUnset</a></span>()</code>
<div class="block">Ends tool execution and unsets the <code>ExecContext</code> from thread-local
 storage.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#forceUnset-org.azyva.dragom.execcontext.ExecContext-">forceUnset</a></span>(org.azyva.dragom.execcontext.ExecContext&nbsp;execContext)</code>
<div class="block">Force-unsets an <code>ExecContext</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static org.azyva.dragom.execcontext.ExecContext</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#get--">get</a></span>()</code>
<div class="block">Returns the <code>ExecContext</code> stored in thread-local storage.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#setAndStartTool-org.azyva.dragom.execcontext.ExecContext-java.util.Properties-">setAndStartTool</a></span>(org.azyva.dragom.execcontext.ExecContext&nbsp;execContext,
               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;propertiesInit)</code>
<div class="block">Sets the <code>ExecContext</code> in thread-local storage and starts tool
 execution.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static org.azyva.dragom.execcontext.ExecContext</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#setDummy-org.azyva.dragom.model.Model-">setDummy</a></span>(org.azyva.dragom.model.Model&nbsp;model)</code>
<div class="block">Sets a dummy <code>ExecContext</code> in thread-local storage.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#setSecondaryThread-org.azyva.dragom.execcontext.ExecContext-">setSecondaryThread</a></span>(org.azyva.dragom.execcontext.ExecContext&nbsp;execContext)</code>
<div class="block">Sets the <code>ExecContext</code> in thread-local storage for a secondary
 thread for an already started tool.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ExecContextHolder--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ExecContextHolder</h4>
<pre>public&nbsp;ExecContextHolder()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setAndStartTool-org.azyva.dragom.execcontext.ExecContext-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAndStartTool</h4>
<pre>public static&nbsp;void&nbsp;setAndStartTool(org.azyva.dragom.execcontext.ExecContext&nbsp;execContext,
                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;propertiesInit)</pre>
<div class="block">Sets the <code>ExecContext</code> in thread-local storage and starts tool
 execution.
 <p>
 To be called during the initialization phase of a tool.
 <p>
 If the ExecContext implementation implements <code>ToolLifeCycleExecContext</code>
 <code>ToolLifeCycleExecContext.startTool(java.util.Properties)</code> is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execContext</code> - ExecContext.</dd>
<dd><code>propertiesInit</code> - Initialization properties specific to the tool.</dd>
</dl>
</li>
</ul>
<a name="setDummy-org.azyva.dragom.model.Model-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDummy</h4>
<pre>public static&nbsp;org.azyva.dragom.execcontext.ExecContext&nbsp;setDummy(org.azyva.dragom.model.Model&nbsp;model)</pre>
<div class="block">Sets a dummy <code>ExecContext</code> in thread-local storage.
 <p>
 Useful in non-tool contexts where an ExecContext is not really required. But
 since many methods rely on an ExecContext being available, a dummy non-null
 ExecContext prevents NullPointerException's.
 <p>
 Since a <code>Model</code> is an integral part of the ExecContext, it is specified
 here as an argument to be associated with the ExecContext.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>model</code> - Model.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Dummy ExecContext.</dd>
</dl>
</li>
</ul>
<a name="setSecondaryThread-org.azyva.dragom.execcontext.ExecContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSecondaryThread</h4>
<pre>public static&nbsp;void&nbsp;setSecondaryThread(org.azyva.dragom.execcontext.ExecContext&nbsp;execContext)</pre>
<div class="block">Sets the <code>ExecContext</code> in thread-local storage for a secondary
 thread for an already started tool.
 <p>
 To be called when a tool is multi-threaded so that each thread gets its own
 ExecContext, without having <code>ToolLifeCycleExecContext.startTool(java.util.Properties)</code> called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execContext</code> - ExecContext. Must be one for which
   <a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#setAndStartTool-org.azyva.dragom.execcontext.ExecContext-java.util.Properties-"><code>setAndStartTool(org.azyva.dragom.execcontext.ExecContext, java.util.Properties)</code></a> has already been called.</dd>
</dl>
</li>
</ul>
<a name="endToolAndUnset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endToolAndUnset</h4>
<pre>public static&nbsp;void&nbsp;endToolAndUnset()</pre>
<div class="block">Ends tool execution and unsets the <code>ExecContext</code> from thread-local
 storage.
 <p>
 The ExecContext is the one that was set using <a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#setAndStartTool-org.azyva.dragom.execcontext.ExecContext-java.util.Properties-"><code>setAndStartTool(org.azyva.dragom.execcontext.ExecContext, java.util.Properties)</code></a>.
 <p>
 To be called during the termination phase of a tool. Should be called on the
 same thread as setAndStartTool.
 <p>
 If the ExecContext implementation implements <code>ToolLifeCycleExecContext</code>
 <code>ToolLifeCycleExecContext.endTool()</code> is called.</div>
</li>
</ul>
<a name="forceUnset-org.azyva.dragom.execcontext.ExecContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceUnset</h4>
<pre>public static&nbsp;void&nbsp;forceUnset(org.azyva.dragom.execcontext.ExecContext&nbsp;execContext)</pre>
<div class="block">Force-unsets an <code>ExecContext</code>. Used as a last resort after a tool
 ends abnormally, leaving the ExecContext in the used state.
 <p>
 The ExecContext cannot be obtained with <a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextHolder.html#get--"><code>get()</code></a> since this method is
 generally not called on the same thread as the one that previously set the
 ExecContext without releasing it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execContext</code> - ExecContext.</dd>
</dl>
</li>
</ul>
<a name="get--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>get</h4>
<pre>public static&nbsp;org.azyva.dragom.execcontext.ExecContext&nbsp;get()</pre>
<div class="block">Returns the <code>ExecContext</code> stored in thread-local storage.
 <p>
 To be called during the execution of tools. Essentially any class (model,
 plugin, etc.) can call this method to have access to the ExecContext.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>See description.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ExecContextHolder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/azyva/dragom/execcontext/support/ExecContextFactoryHolder.html" title="class in org.azyva.dragom.execcontext.support"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/azyva/dragom/execcontext/support/ExecContextHolder.html" target="_top">Frames</a></li>
<li><a href="ExecContextHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015&#x2013;2017 <a href="http://azyva.org">AZYVA INC.</a>. All rights reserved.</small></p>
</body>
</html>
